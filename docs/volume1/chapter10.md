# 第10話 保存したい記憶

　木曜日の放課後。もうかなりインタラクティブ小説の形ができてきた。

「今日はlocalStorageを使ってみましょう」

　ヒロ先輩が新しい機能を教えてくれる。

「ローカルストレージ？」

「ブラウザにデータを保存できる機能。読者の選択を記憶して、次にアクセスした時も続きから読めるようにできるんだ」

　なるほど、セーブ機能みたいなもの。

```javascript
// データを保存
localStorage.setItem('playerName', '美久');
localStorage.setItem('affection', '75');

// データを読み込み
const name = localStorage.getItem('playerName');
const affection = localStorage.getItem('affection');
```

「これで、ブラウザを閉じても、データが残る」

「すごい...本当にゲームみたい」

　実際に試してみる。ブラウザを更新しても、ちゃんとデータが残っている。

「読者の選択を全部記録できるね」

「はい！どのルートを通ったかとか、好感度の推移とか」

　熱心にメモを取りながら、実装を始める。

　作業をしていると、ヒロ先輩がぽつりと呟いた。

「この瞬間も保存できたらいいのに」

「え？」

　顔を上げると、ヒロ先輩が窓の外を見ていた。夕日が図書室を優しく照らしている。

「あ、いや、プログラミングの時間が楽しくて」

　慌てて言い訳するヒロ先輩。耳が赤い。

（かわいい）

　心の中で思いながら、私も窓の外を見る。

「私も...この時間、ずっと覚えていたいです」

　素直に言葉にする。ヒロ先輩が少し驚いたような顔をした。

「みく...」

「あ、プログラミングが楽しいって意味です！」

　慌てて付け足す。でも、本当はそれだけじゃない。

　しばらく無言で作業を続ける。でも、嫌な沈黙じゃない。心地いい静けさ。

「完成したら、セーブデータも実装しよう」

　ヒロ先輩が優しく言う。

「はい。読者の人が、好きな場面を何度でも読み返せるように」

「いいね」

　インタラクティブ小説も、だいぶ形になってきた。選択肢、好感度システム、そしてセーブ機能。あとは物語を完成させるだけ。

「ヒロ先輩」

「ん？」

「プログラミングって、思ったより楽しいです」

　本当の気持ち。最初は口実だったけど、今は心から楽しんでいる。

「それはよかった」

　ヒロ先輩が嬉しそうに微笑む。

「でも...」

「でも？」

「プログラミングより、もっと楽しいことがあります」

　言ってしまった。ヒロ先輩が不思議そうな顔をしている。

「それは？」

「内緒です」

　これ以上は言えない。まだ。

　作業を再開する。画面には、保存された好感度の数値が表示されている。75。結構高い数値だ。

（現実の好感度も、これくらいあればいいのに）

　そんなことを考えながら、コードを書き続ける。

```javascript
function saveMemory(scene, emotion) {
    const memory = {
        scene: scene,
        emotion: emotion,
        date: new Date().toLocaleDateString()
    };
    
    let memories = JSON.parse(localStorage.getItem('memories')) || [];
    memories.push(memory);
    localStorage.setItem('memories', JSON.stringify(memories));
}
```

「思い出を保存する関数...」

　ヒロ先輩が画面を見て呟く。

「はい。大切なシーンを記録できたらって思って」

「素敵な発想だね」

　褒められて嬉しい。

　時計を見ると、もう六時過ぎ。図書室もそろそろ閉まる時間。

「今日はこのくらいにしようか」

「はい...」

　片付けをしながら、ふと思いつく。

「ヒロ先輩、今の時間、saveMemoryしてもいいですか？」

「え？」

「図書室でプログラミング、happiness、って」

　少し照れながら言う。ヒロ先輩も照れたような顔をしている。

「いいよ。僕も保存しとく」

「本当ですか？」

「うん。大切な記憶だから」

　二人で顔を見合わせて、照れ笑いする。

　帰り道、三条会商店街を歩きながら考える。localStorageは便利だけど、本当に大切な記憶は、心に保存されている。消えることのない、特別なデータとして。

「明日で金曜日ですね」

「そうだね。一週間、早かった」

「はい。あっという間でした」

　楽しい時間は、本当に早く過ぎる。

「週末も...」

　ヒロ先輩が何か言いかけて、止まる。

「週末も？」

「いや、なんでもない」

　少し残念。何を言おうとしたんだろう。

　マンションに着いて、エレベーターに乗る。今日も六階でお別れ。

「おやすみなさい、ヒロ先輩」

「おやすみ、みく」

　部屋に戻って、今日のコードを復習する。localStorage。保存したい記憶。

　ノートに、今日の出来事を書き留める。これが私のlocalStorage。ヒロ先輩との大切な時間を、忘れないように。