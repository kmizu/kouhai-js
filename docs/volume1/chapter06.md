# 第6話 変数という名の、特別な「名前」

「先輩。この僕たちの言語って、計算した答えを覚えておくことってできないんですか？」

　いつもの空き教室。リファクタリングを終えたコードを満足げに眺めていた美久が、ふとそんなことを呟いた。

「さっき計算した答えを、また次の計算で使いたいなー、なんて」
「……いいところに気づいたな、美久」

　僕は思わず彼女の方を振り向いた。それは、僕たちの言語が、単なる「高機能な電卓」から、本物の「プログラミング言語」へと進化するための、決定的な一歩に繋がる質問だったからだ。

「データに『名前』をつけて、いつでも取り出せるように保存しておく。その仕組みを、**変数**って言うんだ」
「へんすう……。数学で出てきた、あの`x`とか`y`とかですか？」
「ああ。考え方はよく似ている。僕たちの言語にも、その変数を扱えるように、新しい『お願い』のルールを追加しよう」

　僕は、新しい構文をエディタに打ち込んだ。

`['define', 'x', 10]`

「`define`は、『定義する』っていう意味の英単語だ。これは、『`x`という名前の箱を用意して、その中に`10`という数字を入れる』ってコンピュータにお願いしていることになる」
「名前をつけた箱……。なんだか、プレゼントみたいですね」

　美久らしい感想に、僕は少しだけ口元が緩むのを感じた。

「でも、先輩。一つ問題があります」
「ほう。なんだ？」
「コンピュータって、忘れっぽいんですよね？　この『`x`は`10`だ』っていうのを、どこかにちゃんと記録しておいてあげないと、すぐに忘れちゃうんじゃないですか？」

　僕は今度こそ、感嘆の声を隠せなかった。彼女の洞察力は、時として僕の予想を遥かに超えてくる。

「その通りだ。だから、僕たちは、変数とその値を記録しておくための、新しい道具箱が必要になる。専門用語で、**環境（Environment）**って言うんだ」
「かんきょう？」
「ああ。それは、僕たちの言語が生きる『世界』そのものだ。どんな変数が定義されていて、どんな値を持っているのか。その全てを記憶している場所だ」

　僕は、その「環境」を管理するための、新しいプログラムの雛形を画面に表示した。`class`という、今まで使っていなかったキーワードを含む、少しだけ複雑なコードだ。

```javascript
class Environment {
  constructor() {
    this.variables = {}; // 変数を記録する場所
  }

  define(name, value) {
    // ここに変数を定義する処理
  }

  lookup(name) {
    // ここに変数を探す処理
  }
}
```

「……なんだか、急に難しくなりましたね」

　美久が、少しだけ不安そうな声で言った。その表情に、僕ははっとする。
　まただ。僕は、自分の世界に没頭するあまり、彼女を置き去りにしてしまっているんじゃないだろうか。僕にとっては当たり前の概念も、彼女にとっては、高く、見知らぬ壁のように感じられるのかもしれない。

「……ごめん。また、僕の世界に引きずり込みすぎたか」

　僕がそう言って俯くと、美久は慌てたように首を横に振った。

「ううん、違います！　そうじゃなくて……」

　彼女は一度言葉を切り、ぎゅっと自分のスカートを握りしめた。そして、絞り出すような、だけど、芯の通った声で言った。

「先輩の見てる世界を、もっと知りたいって言ったのは、私なんですから。だから……大丈夫です。ちゃんと、ついていきます」

　その瞳は、僕が最初に彼女に問うた「最後まで付き合う」という契約を、改めて僕に誓っているように見えた。彼女の「あざとさ」の奥にある、この健気さと芯の強さに、僕はいつも心を揺さぶられる。

「……そうか」

　僕は、彼女の覚悟に応えなければならない。独りよがりな知識の披露ではなく、彼女と共に歩むための対話を。

「じゃあ、一緒に作ってみようか。僕たちの言語のための、最初の『世界』を」

　僕の言葉に、彼女はこくりと頷いた。その顔にはもう、不安の色はなかった。
　僕たちはこれから、ただの機能追加じゃない、僕たちの言語に「記憶」という魂を吹き込む、創造的な作業に共に挑むのだ。教室の西日が、そんな僕たちの決意を、静かに照らしていた。