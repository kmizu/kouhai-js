# あざとい後輩女子にプログラミング言語の作り方を教えて欲しいと言われたんだけど - プロット詳細

## 基本設定

### 登場人物

**嵐山隆弘（あらしやまたかひろ）**
- 高校2年生（17歳）
- プログラミング言語研究者の卵
- 16歳で査読付き国際会議論文を通した天才
- 論文タイトル："A Type-Safe Embedded DSL for Educational Programming"
- 性格：真面目で優しいが、研究の話になると熱くなる
- 趣味：プログラミング言語の設計、型理論の勉強、言語処理系の実装
- 特技：難しい概念を分かりやすく説明すること
- 弱点：美久の「お願い」に弱い

**河内美久（かわちみく）**
- 高校1年生（16歳）
- 隆弘の幼馴染（隣の部屋に住む）
- プログラミング未経験だが好奇心旺盛
- 性格：明るく積極的、でも恥ずかしがり屋な一面も
- 隆弘への憧れと恋心を持つ
- 口癖：「隆弘先輩、教えて！」「へー、そうなんだ！」
- 特技：複雑な概念でも自分なりの例えで理解する
- 将来の夢：隆弘と一緒に何か凄いものを作る

### 舞台設定
- 京都市内の進学校
- 隆弘の自室（プログラミング環境完備）
- 学校の空き教室（放課後の勉強会）

## 物語の流れ

### 第1部：出会いと決意（1〜10話）
美久が突然「プログラミング言語を作りたい」と言い出し、隆弘が基礎から教え始める。

### 第2部：電卓言語の実装（11〜20話）
四則演算ができる簡単な言語を作りながら、ASTの概念を学ぶ。

### 第3部：変数の導入（21〜30話）
変数機能を追加し、プログラミングの基本概念を理解する。

### 第4部：制御構造の実装（31〜40話）
条件分岐（if文）と繰り返し（while文）を実装する。

### 第5部：完成と告白（41〜50話）
オリジナル言語「MikuLang」の完成と、二人の関係の進展。

---

## 各話の概要

### 第1話「無茶な願い」
美久が突然「プログラミング言語を作りたい」と言い出す。隆弘は驚きつつも、その熱意に押されて教えることに。

### 第2話「プログラミング言語って何？」
プログラミング言語とは何か、なぜ必要なのかを身近な例で説明。美久の素朴な質問が隆弘の説明力を引き出す。

### 第3話「最初の一歩：数字を表示しよう」
JavaScriptで最も簡単なプログラム（数字を表示）を作る。美久、初めてのconsole.logに感動。

### 第4話「計算機を作ろう」
足し算ができるプログラムを作成。美久「これがプログラミング言語？」隆弘「まだまだこれから」

### 第5話「ASTって何？」
抽象構文木（AST）の概念を、日本語の文法に例えて説明。美久の理解力に隆弘も驚く。

### 第6話「ツリー構造の不思議」
ASTのツリー構造を図解。美久「家系図みたい！」という発想が隆弘にも新鮮。

### 第7話「パーサーは後回し」
なぜ構文解析を飛ばすのか説明。美久「料理でいうと下ごしらえを後回しにする感じ？」

### 第8話「JavaScriptでASTを作る」
JavaScriptのオブジェクトでASTを表現。美久、オブジェクトの概念に四苦八苦。

### 第9話「評価器（Evaluator）の仕組み」
ASTを実行する評価器の基本。美久「翻訳機みたいなもの？」

### 第10話「初めての言語実行」
1+2を計算する最小限の言語が動く。美久の喜びと、隆弘の優しい眼差し。

### 第11話「四則演算への拡張」
引き算、掛け算、割り算を追加。美久「あ、パターンが見えてきた！」

### 第12話「演算子の優先順位」
なぜ掛け算が先なのか。美久の疑問から数学とプログラミングの関係を議論。

### 第13話「括弧の実装」
括弧で優先順位を変える機能。美久「数学と同じだ！」

### 第14話「エラー処理」
0で割った時のエラー処理。美久「親切な言語にしたい」

### 第15話「浮動小数点数」
小数の計算に対応。美久、コンピュータの数値表現の不思議さに驚く。

### 第16話「関数の準備」
組み込み関数（sqrt、absなど）の実装。美久「関数って便利！」

### 第17話「美久の疑問」
「なんで私、こんなに頑張ってるんだろう」美久の本音と隆弘への想い。

### 第18話「デバッグの日々」
バグとの戦い。美久「隆弘先輩と一緒なら楽しい」

### 第19話「中間発表」
クラスメイトに成果を見せる。みんなの反応に美久も自信を持つ。

### 第20話「電卓言語の完成」
複雑な数式も計算できる言語が完成。美久「次は変数だね！」

### 第21話「変数って何？」
変数の概念を貯金箱に例えて説明。美久の理解の速さに隆弘も感心。

### 第22話「環境（Environment）」
変数を管理する環境の実装。美久「変数の住所録みたい」

### 第23話「代入文の実装」
x = 10 のような代入文を作る。美久、初めての変数代入に感動。

### 第24話「変数の参照」
変数の値を使う仕組み。美久「名前を呼ぶと値が返ってくる！」

### 第25話「スコープの概念」
変数の有効範囲。美久「変数にも縄張りがあるんだ」

### 第26話「美久の告白（未遂）」
「隆弘先輩、私...」言いかけて止まる美久。隆弘も何か感じ取る。

### 第27話「複合代入演算子」
+=、-= などの実装。二人の距離も少しずつ縮まる。

### 第28話「定数の実装」
変更できない変数。美久「私の隆弘先輩への気持ちも定数！」

### 第29話「型の話」
動的型付けと静的型付け。隆弘の専門分野で熱弁。

### 第30話「変数機能の完成」
変数が使える言語に成長。美久「本物のプログラミング言語みたい！」

### 第31話「もし〜なら」
if文の実装開始。美久「恋愛ゲームの選択肢みたい」

### 第32話「条件式の評価」
true/falseの概念。美久「好きか嫌いか、みたいな？」

### 第33話「比較演算子」
==、!=、<、> などの実装。美久の例えが的確すぎて隆弘も苦笑。

### 第34話「論理演算子」
AND、OR、NOTの実装。美久「恋愛の条件分岐は複雑...」

### 第35話「elseの実装」
そうでなければ、の処理。美久「振られた時の処理...」

### 第36話「入れ子のif文」
複雑な条件分岐。美久も隆弘もコードに夢中。

### 第37話「while文の基礎」
繰り返し処理の実装。美久「無限ループは恋みたい」

### 第38話「breakとcontinue」
ループの制御。美久の理解力に隆弘「君には才能がある」

### 第39話「for文の実装」
より便利な繰り返し。美久「プログラミング楽しい！」

### 第40話「再帰の話」
関数の再帰呼び出し。美久「鏡の中の鏡みたい」

### 第41話「関数定義」
ユーザー定義関数の実装。美久「自分で命令を作れる！」

### 第42話「クロージャ」
関数の中の関数。隆弘の説明に美久も感嘆。

### 第43話「標準ライブラリ」
print、inputなどの組み込み関数。美久「対話できる！」

### 第44話「美久の作品」
美久が初めて作ったプログラム「愛の告白ジェネレーター」

### 第45話「バグとの最終決戦」
最後の大きなバグ。二人で夜遅くまでデバッグ。

### 第46話「言語の命名」
「MikuLang」と名付ける。美久感涙。

### 第47話「ドキュメント作成」
言語の使い方を文書化。美久「私たちの共同作品」

### 第48話「お披露目」
学校で発表。大成功で皆から賞賛。

### 第49話「隆弘の告白」
「美久、君と一緒に研究を続けたい。いや、それ以上に...」

### 第50話「新しい始まり」
恋人同士になった二人。次は「型システム付き言語を作ろう！」

## 技術的な要素

- **AST（抽象構文木）**：構文解析を飛ばして直接JavaScriptのオブジェクトで表現
- **評価器（Evaluator）**：ASTを辿って実行する再帰的な関数
- **環境（Environment）**：変数を管理するためのスコープチェーン
- **実装言語**：JavaScript（ブラウザでも動く）
- **最終的な言語仕様**：
  - 四則演算
  - 変数（代入、参照）
  - 条件分岐（if-else）
  - 繰り返し（while、for）
  - 関数定義と呼び出し
  - 基本的な組み込み関数

## 恋愛要素

- 幼馴染から恋人への自然な進展
- プログラミングを通じた心の距離の接近
- 技術的な会話の中に織り込まれる恋愛フラグ
- 美久の一途な想いと隆弘の鈍感さ→気づき→告白の流れ